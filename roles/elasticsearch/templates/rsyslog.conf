# Load modules
module(load="imuxsock")  # provides support for local system logging
module(load="imjournal")  # provides access to the systemd journal

# Define a template for clean logging
template(name="clean" type="string" string="%msg%\n")

# Check if the program name matches the specified component and log it
if $programname == '{{component}}' then {
    action(type="omfile" file="/var/log/{{ component }}.log" template="clean")
    & stop
}

# Save logs to default file
*.* /var/log/syslog
